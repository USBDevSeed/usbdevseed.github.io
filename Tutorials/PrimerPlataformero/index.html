<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nuestro primer juego</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lilita+One&family=Montserrat:ital,wght@0,100;1,100&family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <link href="../../style.css" rel="stylesheet"> 
    <link href="../../prismJS/prism.css" rel="stylesheet"> 

<body style="display: flex; flex-direction: column;">
    <div class="topbar">
        <img class="burgerIcon" src="../../Assets/Icons/burger.png" onclick="onNavbarBurgerIconClicked()">  
        <img style="cursor: pointer;" class="imgIcon" src="../../Assets/Logos/devseedLogoComplete.png" onclick="onReturnClicked()" >
        <img style="margin-left: auto; width: auto; height: 100%;" class="imgVisibilityIcon" src="../../Assets/Icons/images_show.png" onclick="toggleImgVisibility()">
    </div>

    <div class="tutorialBody">
        <aside class="tutorialSidebar">
            <nav class="tutorialSidebarNav"> 
            </nav>
        </aside>

        <div class="tutorialDiv"> 
            <h1 style="display: none;"> Inicio </h1>
            <div class="imgContainer"> 
                <img class="screenshot" src="main.gif"> 
            </div>
            <p> 
                En este tutorial paso a paso, crearemos las bases de un plataformero básico usando Godot engine. Al finalizar, tendremos un prototipo con las siguientes características:
                <ul> 
                    <li> Personaje 2D con movimiento básico </li>
                    <li> Nivel editable con tilemaps </li>
                    <li> Controles de movimiento para pantallas táctiles</li>
                </ul>
            </p>
            <div class="accordion open"> 
                <div class="headingContainer">
                    <h1 class="accordionHeading"> Creando nuestro proyecto </h1>
                </div>
                
                <div class="accordionContainer"> 
                    <p> 
                        Para empezar, necesitamos crear nuestro proyecto en Godot. Los proyectos en Godot se representan mediante carpetas, estas carpetas deben de tener el mismo nombre de nuestro proyecto, todo asset de nuestro juego ira dentro de esta carpeta. Ponle un nombre a tu proyecto y crea el proyecto para empezar a editarlo.
                    </p>
                    <div class="imgContainer"> 
                        <img class="screenshot" src="project01.png"> 
                        <img class="screenshot" src="project02.png">
                    </div>
                </div>
            </div>

            <div class="accordion open">
                <div class="headingContainer">
                    <img src="/Assets/GodotIcons/CharacterBody2D.svg" class="imgIcon">
                    <h1 class="accordionHeading"> Nuestro personaje </h1>
                </div>
                <div class="accordionContainer display">
                    <p> 
                        Godot funciona a partir de un árbol de escenas y nodos. Una escena esta constituida por multiples nodos, y un nodo individual puede ser muchas cosas, como un bloque de texto, una textura o una pista de audio. Podemos ver las escenas como una construcción, y los nodos como los ladrillos de esta. Para añadir nodos a nuestra escena, tendremos que buscar en el apartado superior izquierdo del editor.
                    </p>
                    <div class="imgContainer">
                        <img class="screenshot" src="character01.png">
                    </div>
                    <p> 
                        Nuestro personaje sera un nodo de tipo <code>CharacterBody2D</code>, para añadirlo a la escena, tendremos que seleccionar cualquiera de los dos botones subrayados (+, "Other Node"), y luego buscaremos <code>CharacterBody2D</code>
                    </p>
                    <div class="imgContainer"> 
                        <img class="screenshot" src="character02.png"> 
                        <img class="screenshot" src="character03.png">
                    </div>
                    <p> 
                        Una vez creado el nodo <code>CharacterBody2D</code>, podemos empezar a añadir nodos hijo a la escena. Para empezar, necesitamos ver a nuestro personaje usando una textura, esta textura puede ser una imagen plana o una animación. Si deseamos añadir animaciones a nuestro personaje, la mejor practica es utilizar un <i>Spritesheet</i>
                    </p>
                    <div class="accordion">
                        <div class="headingContainer">
                            <img class="imgIcon" src="/Assets/GodotIcons/Sprite2D.svg">
                            <h2 class="accordionHeading"> Textura (Sprite) </h2> 
                        </div>

                        <div class="accordionContainer"> 
                            <p> 
                                Para mostrar a nuestro personaje con una imagen estática, creemos un <code>Sprite2D</code> como hijo del <code>CharacterBody2D</code>. Para que podamos ver nuestro Sprite, tendremos que asignar una textura a la propiedad de Texture, localizada en el apartado de propiedades de nodo en la parte superior derecha del editor. 
                            </p>
                            <div class="imgContainer"> 
                                <img class="screenshot" src="sprite01.png"> 
                                <img class="screenshot" src="sprite02.png">
                            </div>
                            <p> Siéntete libre de usar cualquier imagen que desees, para propósitos de este tutorial, puedes usar el icono de Godot incluido por defecto en el proyecto, o también puedes descargar uno de estos aliens: 
                            </p>
                            <div class="imgContainer"> 
                                <a href="static_sprite01.png" download> <img class="downloadImg" src="static_sprite01.png"> </a>
                                <a href="static_sprite02.png" download> <img class="downloadImg" src="static_sprite02.png"> </a>
                                <a href="static_sprite03.png" download> <img class="downloadImg" src="static_sprite03.png"> </a>
                                <a href="static_sprite04.png" download> <img class="downloadImg" src="static_sprite04.png"> </a>
                            </div>
                            <div class="note">
                                <p>
                                    Dale click al personaje que mas te guste para guardarlo!
                                    <br> 
                                    <br>
                                    Asegurate de guardar cualquier imagen que guardes dentro de la carpeta de tu juego!
                                </p>
                            </div>
                    </div>
                    </div>
        
                    <div class="accordion"> 
                        <div class="headingContainer">
                            <img class="imgIcon" src="/Assets/GodotIcons/AnimatedSprite2D.svg">
                            <h2 class="accordionHeading"> Textura animada (Spritesheet) </h2>
                        </div>

                        <div class="accordionContainer">
                            <p>
                                Si en cambio, queremos animar a nuestro personaje, debemos de usar un Spritesheet. Un Spritesheet es una sola imagen que contiene multiples cuadros de animación separados vertical y/o horizontalmente. 
                
                                Puedes buscar un Spritesheet, realizar el tuyo, o descargar cualquiera de estos Spritesheet básicos:
                            </p>
                            <div class="imgContainer"> 
                                <a href="spritesheet01.png" download> <img class="downloadImg" src="spritesheet01.png" > </a>
                                <a href="spritesheet02.png" download> <img class="downloadImg" src="spritesheet02.png">  </a>
                                <a href="spritesheet03.png" download> <img class="downloadImg" src="spritesheet03.png"> </a>
                                <a href="spritesheet04.png" download> <img class="downloadImg" src="spritesheet04.png"> </a>
                            </div>
                            <p> 
                                Una vez tengamos nuestra textura, crearemos un nodo <code>AnimatedSprite2D</code> como hijo de nuestro <code>CharacterBody2D</code>. Notaremos que este nuevo nodo no tiene una propiedad de textura como <code>Sprite2D</code>, en cambio, tiene una propiedad llamada <i>Sprite Frames</i>, que se encuentra en la categoría de <i> Animation</i>, daremos click y crearemos un nuevo recurso de <i>SpriteFrames</i>
                            </p>
                            <div class="imgContainer"> 
                                <img class="screenshot" src="animatedsprite01.png"> 
                                <img class="screenshot" src="animatedsprite02.png">
                            </div>
                            <p> 
                                Al crear el recurso de <i>SpriteFrames</i>, podemos acceder a el y podremos ver una nueva ventana, localizada en la parte inferior del editor, este es el editor de animaciones, a continuación podrás ver los elementos mas importantes de este editor:
                            </p>
                            <div class="imgContainer"> 
                                <img class="screenshot" src="animatedsprite03.png">
                            </div>
                            <ol>
                                <li>Crear nueva animación</li>
                                <li>Duplicar animación</li>
                                <li>Eliminar animación </li>
                                <li>Autoplay al correr proyecto</li>
                                <li>Loop/Controlar FPS </li>
                                <li>Reproducción de animación </li>
                                <li>Abrir Spritesheet </li>
                                <li>Borrar frame de animación </li>
                                <li>Listado de animaciones</li>
                            </ol>
                            <p> 
                                Por el momento, crearemos dos animaciones (con el botón #1), y las nombraremos: <i>Idle</i> y <i>Correr</i>. Al abrir nuestro Spritesheet (con el botón #7), veremos una nueva ventana:
                            </p>
                            <div class="imgContainer"> 
                                <img class="screenshot" src="animatedsprite04.png">
                            </div>
                            <p> 
                                Esta es la ventana de <i>Selección de frames de Spritesheet</i>, y es aquí donde seleccionaremos los frames que usaremos de nuestro Spritesheet. En el apartado derecho de esta ventana podremos ajustar la cantidad de cortes que se le harán a nuestra imagen. En nuestro caso, nuestro Spritesheet solo se compone de 2 cuadros horizontales, entonces ajustaremos la propiedad de <i>Horizontal</i> a 2 recortes, y <i>Vertical</i> a 1.
                            </p>
                            <div class="note">
                                <p>
                                    En caso de usar un Spritesheet online o propio, debes de ajustar la cantidad de recortes al numero de frames que tenga tu imagen, algunos Spritesheets también contienen separación entre los frames, ajustable por la propiedad <i>Separation</i>
                                </p>
                            </div>
                            <p> 
                                Una vez este recortada correctamente nuestra imagen, seleccionaremos los frames en el orden que queremos que se reproduzca nuestra animación
                            </p>
                            <div class="imgContainer"> 
                                <img class="screenshot" src="animatedsprite05.png"> 
                            </div>
                            <div class="note">
                                <p>
                                    <b>Tip!</b> En caso de usar un Spritesheet de 2 frames como el que usamos en este tutorial, es recomendado seleccionar el 2do frame de animación primero, de esta manera el personaje empezara la animación en movimiento, y no parecerá arrastrándose al mover
                                </p>
                            </div>
                            <p> 
                                Para nuestra "animación" de Idle, crearemos otra animación (Botón #1), la llamaremos "Idle" y repetiremos el proceso de abrir nuestro Spritesheet (Botón #7), sin embargo esta vez solo seleccionaremos un cuadro. La "animación" de Idle se reproducirá cuando nuestro personaje no este realizando ninguna acción.
        
                                Listo! Asi se vera la interfaz del editor cuando tengamos nuestras animaciones preparadas para usar después.
                            </p>
                            <div class="imgContainer"> 
                                <img class="screenshot" src="animatedsprite06.png"> 
                            </div>
                    </div>
    
                    <div class="accordion open">
                        <div class="headingContainer">
                            <img class="imgIcon" src="/Assets/GodotIcons/CollisionShape2D.svg">
                            <h2 class="accordionHeading">Añadiendo colisión</h2>
                        </div>
                        
                        <div class="accordionContainer">
                            <p> 
                                Ahora que podemos ver a nuestro personaje en el editor, tenemos que darle una <b>forma</b>, con la que podrá interactuar y <b>colisionar</b> con el mundo y sus elementos. Para añadir esta forma, crearemos un nodo <code>CollisionShape2D</code> como hijo de nuestro <code>CharacterBody2D</code>.
                            </p>
                            <div class="imgContainer"> 
                                <img class="screenshot" src="collisionshape01.png">
                            </div>
                            <div class="note alert">
                                <p> 
                                    Advertencia! verifica que añadas tu nodo <code>CollisionShape2D</code> como hijo de tu nodo <code>CharacterBody2D</code>, pues un nodo de colisión NO funcionara si no es hijo de un cuerpo de físicas como <code>CharacterBody2D</code>. 
                                    <br>
                                    <br>
                                    Verifica que la jerarquía de tu arbol sea similar a la presentada arriba.
                                </p>
                            </div>
                            <p> 
                                Podrás notar que nuestro nuevo nodo tiene una advertencia! No te preocupes, esto es debido a que nuestro nodo todavía no tiene una forma definida. Para crear una forma, buscaremos la propiedad <i>Shape</i> en el apartado de propiedades de nodo, localizada en la parte derecha del editor. 
                            </p>
                            <p>
                                Al intentar crear un recurso de forma, veremos un listado con multiples opciones, quizá demasiadas, pero no te abrumes! pues en la mayoría de casos solo necesitaremos de tres opciones:  
                            </p>
                            <ul>
                                <li> <code>CircleShape2D</code>: Un circulo</li>
                                <li> <code>RectangleShape2D</code>: Un rectángulo</li>
                                <li> <code>CapsuleShape2D</code>: Una capsula</li>
                            </ul>
                            <div class="imgContainer"> 
                                <img class="screenshot" src="collisionshape02.png">
                            </div>
                            <p> 
                                Siéntete libre de probar y experimentar con cualquiera de estas opciones.
                            </p>
                            <div class="imgContainer"> 
                                <img class="screenshot" src="collisionshape03.png">
                                <img class="screenshot" src="collisionshape04.png">
                                <img class="screenshot" src="collisionshape05.png">
                            </div>
                            <p>
                                Una vez tengamos esta forma, nuestro personaje estará listo para interactuar con el nivel que diseñemos
                            </p>
                        </div>
                    </div>

                    <div class="accordion open">
                        <div class="headingContainer">
                            <img class="imgIcon" src="/Assets/GodotIcons/Camera2D.svg"> 
                            <h2 class="accordionHeading">Cámara</h2> 
                        </div>
                        <div class="accordionContainer">
                            <p> 
                                Para finalizar con la preparación de nuestro personaje, necesitaremos una cámara que siga al jugador mientras se mueve por el nivel. Creemos un nodo <code>Camera2D</code> como hijo de nuestro <code>CharacterBody2D</code>. Para nuestra suerte, la cámara de Godot funcionara automáticamente, sin necesidad de código u otro ajuste.
                            </p>
                            <p> 
                                Sin embargo, podemos activar el suavizado de posición encontrado en el panel de propiedades de nodo localizado en la parte derecha del editor, esto hará que nuestra cámara se vea mucha mas fluida al moverse
                            </p>
                            <div class="imgContainer">
                                <img class="screenshot" src="camera01.png"> 
                            </div>
                            <p> Y con esto, hemos terminado de crear nuestro personaje! Ahora solo necesitamos un nivel donde probarlo</p>
                        </div>
                    </div>
            </div>
                </div>
            </div>

            <div class="accordion open">
                <div class="headingContainer">
                    <img class="imgIcon" src="/Assets/GodotIcons/WorldEnvironment.svg"> 
                    <h1>El nivel de juego</h1>
                </div>
                <div class="accordionContainer">
                    <p>
                        Para empezar a crear nuestro nivel, debemos de crear otra escena. Hay varias maneras de realizar esto, por ejemplo, podemos usar el atajo de teclado <i>Ctrl+n</i>, o bien podemos crearla desde la interfaz del editor con el botón + al lado de nuestra pestaña de personaje (esta interfaz es similar a la de un navegador Web!) o desde el menu de <i>Scene</i> localizado en la parte superior izquierda del editor
                    </p>
                    <div class="imgContainer">
                        <img class="screenshot" src="world01.png">
                    </div>
                    <p>
                        Al crear nuestra nueva escena, veremos que esta vacía, necesitaremos añadir un nodo de tipo <code>Node2D</code>. Es aquí donde añadiremos todo el contenido de nuestro nivel, y eventualmente, a nuestro personaje.
                    </p>
                    <div class="imgContainer">
                        <img class="screenshot" src="world02.png">
                    </div>

                    <div class="accordion open">
                        <div class="headingContainer">
                            <img class="imgIcon" src="/Assets/GodotIcons/TileMapLayer.svg">
                            <h2 class="accordionHeading">Tilemap</h2>
                        </div>
                        <div class="accordionContainer">
                            <p> 
                                Un tilemap, en español "Mapa de mosaicos", es un conjunto de cuadros que usaremos para representar nuestro nivel, bien sea con cuadros de suelo u otros cuadros de elementos como arboles, cajas, decoraciones, etc. Con este nodo, podremos "pintar" estos elementos sobre una cuadricula para construir nuestro nivel. Podrás reconocer el concepto de <i>Tilemap</i> o <i>Tileset</i> a traves de editores de nivel en videojuegos como <i>Super Mario maker</i> o <i>Geometry Dash</i>
                            </p>
                            <div class="imgContainer">
                                <img class="screenshot" src="/Tutorials/PrimerPlataformero/example01.png">
                                <img class="screenshot" src="/Tutorials/PrimerPlataformero/example02.webp">
                            </div>
                            <p>
                                Al final de ajustar nuestro Tilemap, tendremos un sistema muy similar al de estos ejemplos
                            </p>
                            <p> 
                                Empezaremos creando un nodo de tipo <code>TileMapLayer</code> como hijo de nuestro nodo <code>Node2D</code>. 
                            </p>
                            <div class="imgContainer">
                                <img class="screenshot" src="tilemap01.png">
                            </div>
                            <div class="note alert">
                                <p>
                                    Advertencia! Es importante que crees un nodo <code>TileMapLayer</code> y no un nodo <code><img src="/Assets/GodotIcons/deprecated.png">TileMap</code>, pues este ultimo esta deprecado y no es recomendable usarlo en nuevas versiones.
                                </p>
                            </div>
                            <p>
                                Una vez creado nuestro nodo <code>TileMapLayer</code>, buscaremos por la propiedad <i>Tileset</i> en la sección de propiedades del nodo (recuerda, se encuentra en la parte derecha del editor) y crearemos un nuevo recurso de <i>Tileset</i>.
                            </p>
                            <div class="imgContainer">
                                <img class="screenshot" src="tilemap02.png">
                            </div>
                            <p> 
                                Al crear un nuevo <i>Tileset</i>, se creara una nueva pestaña en la parte inferior del editor donde podremos empezar a editar nuestros tiles.
                            </p>
                            <div class="imgContainer">
                                <img class="screenshot" src="tilemap03.png">
                            </div>
                            <div class="note">
                                <p>
                                    Si no encuentras la pestaña de <i>Tileset</i>, asegúrate que tengas seleccionado el nodo de <code>TileMapLayer</code> y que hayas creado correctamente el recurso de <i>Tileset</i> en la sección de propiedades.
                                </p>
                            </div>
                        </div>

                    </div>
                    
                    <div class="accordion open">
                        <div class="headingContainer">
                            <h1 class="accordionHeading">
                                Construyendo nuestro Tileset
                            </h1>
                        </div>
                        <div class="accordionContainer">
                            <p>
                                Para empezar a definir los tiles de nuestro nivel, necesitamos por supuesto una textura de Tileset, el cual se ve como una imagen bastante grande que contiene en forma de mosaico todos los cuadros de nuestro nivel.
                                <br> <br>
                                Para propósitos de este tutorial, he simplificado el asset tileSet de Kenney para que sea mas compacto y fácil de usar, sin embargo también puedes descargar el Tileset completo si deseas usarlo 
                            </p>
                            <div class="imgContainer">
                                <a href="simpleTilemap.png" download><img class="downloadImg" src="simpleTilemap.png"></a>
                                <a href="packedTilemap.png" download><img class="downloadImg" src="packedTilemap.png"></a>
                            </div>
                            <p>
                                Antes de cargar nuestra textura en el <i>Tileset</i>, primero le especificaremos a nuestro nodo <code>TileMapLayer</code> el tamaño <i>exacto</i> en pixeles de cada elemento de nuestra textura. En nuestro caso, el tamaño de cada elemento es de <code>18x18</code>, el cual se lo especificaremos en la propiedad <i>Tile Size</i> dentro de las propiedades del <i>Tileset</i> en nuestro nodo <code>TileMapLayer</code>
                            </p>
                            <div class="imgContainer">
                                <img class="screenshot" src="tileset02.png">
                            </div>
                            <p>
                                Ya especificado el tamaño de nuestros tiles, podemos añadir nuestra textura en la sección de <i>Tileset</i> añadiendo un nuevo <i>Atlas</i>. Al cargarla, nos aparecerá un aviso donde nos preguntara si queremos crear automáticamente los tiles a partir de la textura, y responderemos <b>Yes</b>.
                            </p>
                            <div class="imgContainer">
                                <img class="screenshot" src="tileset01.png">
                                <img class="screenshot" src="tileset03.png">
                            </div>
                        </div>

                    </div>
                </div>
                <div style="padding-top: 128px;"> 

                </div>

            </div>
            <!--<pre> 
                <code class="language-gdscript">
                    extends CharacterBody2D
    
                    var rapidez = 100;
    
                    func _physics_process(delta: float) -> void:
                        #Recibir input de jugador
                        velocity.x = 0
                        if Input.is_action_pressed("izquierda"):
                            velocity.x += rapidez
                        if Input.is_action_pressed("derecha"):
                            velocity.x -= rapidez
                        
                        move_and_slide()
                </code>
            </pre>-->
        </div>
    </div>

    <script src="../tutorial.js"> </script>
    <script src="../../prismJS/prism.js"></script>
</body>
</html>